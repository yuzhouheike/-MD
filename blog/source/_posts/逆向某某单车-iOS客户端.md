title: 逆向某某单车-iOS客户端
id: 1527695562279
author: 王磊磊
date: 2018-05-30 23:52:55
tags:
---
###  ```写在前面的话``` 



## 事情起源


- ```朋友圈看到一则消息.大概意思就是某某土豪,为了表白萌妹"赵千萌".所以使当地的哈罗单车iOS客户端上面用户附近的车辆图标显示为他自己的图片.图片上面写着``` ```赵千萌 我爱你```

- 源图 
![](https://user-gold-cdn.xitu.io/2018/5/23/1638c46ea5c8d3de)


- 随手转发了下.随后评论区看到下面好多问题

    - 他是入侵了服务端吗?
    - 他是自己P的图吗?
    - 他是逆向了自己的单机App吗?


## 这些评论引起了我的兴趣

- 我对评论的解答

  - 首先否决入侵服务端(因为违法..乌云的前辈们就是前车之鉴,虽然他们只是渗透)
  - 然后否决P图.表白这种大事通过P图!(```1.没有诚意,容易表白失败 2.P图的每天有很多,但是不会大范围传播 3. 男生大多不会P图```)
  - 通过排除法.显然他是逆向了自己的App
  
  
## 那我为什么逆向呢?

- 既然他能逆向修改说明我也可能逆向修改(```虽然我暂时没有表白的需求,但是说不准以后可能会有.或者兄弟们会有,需要我的帮助呢```)

## 下面演示通过iOS逆向修改某某单车的结果

- 上个图
![](https://user-gold-cdn.xitu.io/2018/5/23/1638c4fc138072f5?w=1080&h=1921&f=jpeg&s=126444)

- 由于大家说第一个图不好看.所以再上个图
![](https://user-gold-cdn.xitu.io/2018/5/23/1638c4ec19d65462?w=1080&h=1921&f=jpeg&s=131651)

## 下面简单说下逆向过程


### 第一步 静态分析

- Hooper 或者 IDA


### 第二步 动态调试


- LLDB 或者 cycript


### 第三步 打包重签

- MonkeyDev 或者 IPAPatch


## 为什么逆向过程这么简单?啥也没写

- 因为这是个简单的正规的App


## 最后 展示下修改代码


```
%hook MAAnnotationView

-(void)setImage:(id)arg1 {
%log;
// UIImage *image = [UIImage ima]

UIImage *image = [UIImage imageNamed:@"yuzhouheikewll.png"];
arg1 = image;
NSLog(@"yuzhouheikewll::==%@", image);
%orig;

}

%end
```

## 最后的最后澄清下故事中的男主角实现途径
- ```经过某某单车内部可靠消息:人家是花钱从官方买的服务```
## 最后的最后的最后

- 感谢您在百忙之中看我的文章